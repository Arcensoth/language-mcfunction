name: mcfunction
scopeName: source.mcfunction
fileTypes:
  - mcfunction
patterns:
  - include: '#root'
repository:
  root:
    patterns:
      - name: keyword.control._.root_command.mcfunction
        match: '(?:\r\n|\n|^)[ \t]*[a-z][a-z0-9_]*(?=\s|$)'
      - name: comment._.comment.mcfunction
        begin: '(?:\r\n|\n|^)[ \t]*(?=#)'
        end: (?=\r\n|\n|$)
        patterns:
          - match: .+
          - match: '(?:\r\n|\n|^)[ \t]*#'
      - name: meta._.whitespace.mcfunction
        match: \s
      - include: '#command_tokens'
  command_tokens:
    patterns:
      - name: constant.numeric._.integer.command_token.mcfunction
        match: \-?\d+(?=\s|$)
      - name: string.unquoted._.unknown.command_token.mcfunction
        match: \S+(?=\s|$)
